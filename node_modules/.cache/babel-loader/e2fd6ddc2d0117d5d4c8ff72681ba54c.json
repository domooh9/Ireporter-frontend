{"ast":null,"code":"var _jsxFileName = \"/home/dom/ireporterapp/src/components/SignupSignin/components/user/team/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./team.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Team = _ref => {\n  _s();\n  let {\n    addUserPost,\n    location\n  } = _ref;\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    user_id: user.id,\n    incident_type: \"\",\n    title: \"\",\n    description: \"\",\n    location: location,\n    date: \"\",\n    image_url: \"\",\n    status: user.status\n  });\n  // const [errors, setErrors] = useState([])\n\n  //Update form data\n  function handleChange(event) {\n    const name = event.target.name;\n    let value = event.target.value;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  }\n\n  //Handle artcile submit\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!user) return;\n    setFormData({\n      ...formData,\n      user_id: user.id,\n      status: user.status\n    });\n    fetch('https://irep-backend.herokuapp.com/incidents', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formData)\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(article => addUserPost(article));\n        navigate('/user');\n        window.location.reload(false);\n      }\n    });\n\n    //Clear form\n    setFormData({\n      user_id: user.id,\n      incident_type: \"\",\n      title: \"\",\n      description: \"\",\n      location: \"\",\n      date: \"\",\n      image_url: \"\",\n      status: user.status\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container_1\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"register-form_1\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          form: \"Categories\",\n          id: \"field\",\n          className: \"form-field\",\n          autofocus: true,\n          onChange: handleChange,\n          name: \"incident_type\",\n          value: formData.incident_type,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"intervention\",\n            children: \"Create an intervention\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"redflag\",\n            children: \"Create a red flag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"case-title\",\n          className: \"form-field_1\",\n          type: \"text\",\n          placeholder: \"Enter your title\",\n          name: \"title\",\n          onChange: handleChange,\n          value: formData.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"desc-rption\",\n          className: \"form-field_1\",\n          type: \"text\",\n          placeholder: \"Description\",\n          name: \"description\",\n          onChange: handleChange,\n          value: formData.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"loc-tion\",\n          className: \"form-field_1\",\n          type: \"text\",\n          placeholder: \"Location\",\n          name: \"location\",\n          onChange: handleChange,\n          value: formData.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"da-te\",\n          className: \"form-field_1\",\n          type: \"text\",\n          placeholder: \"Date\",\n          name: \"date\",\n          onChange: handleChange,\n          value: formData.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          id: \"file\",\n          children: \"Choose an Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"image\",\n          className: \"form-field_1\",\n          type: \"url\",\n          placeholder: \"Image Url\",\n          name: \"image_url\",\n          onChange: handleChange,\n          value: formData.image_url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"form-field_1\",\n          type: \"submit\",\n          children: \"SUBMIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(Team, \"MF41MsFdqWume/QTsUNeZGAGoKc=\", false, function () {\n  return [useNavigate];\n});\n_c = Team;\nexport default Team;\nvar _c;\n$RefreshReg$(_c, \"Team\");","map":{"version":3,"names":["React","useState","useNavigate","Team","addUserPost","location","user","JSON","parse","localStorage","getItem","navigate","formData","setFormData","user_id","id","incident_type","title","description","date","image_url","status","handleChange","event","name","target","value","handleSubmit","e","preventDefault","fetch","method","headers","body","stringify","then","res","ok","json","article","window","reload"],"sources":["/home/dom/ireporterapp/src/components/SignupSignin/components/user/team/index.jsx"],"sourcesContent":["import React,{useState} from \"react\";\nimport \"./team.css\"\nimport {useNavigate} from \"react-router-dom\"\n\n\n\nconst Team = ({addUserPost,location}) => {\nconst user = JSON.parse(localStorage.getItem(\"user\"));\nconst navigate = useNavigate();\n\n    const [formData, setFormData] = useState({\n      user_id: user.id,\n      incident_type:\"\",\n      title: \"\",\n      description: \"\",\n      location: location,\n      date: \"\",\n      image_url: \"\",\n      status: user.status\n      \n    })\n    // const [errors, setErrors] = useState([])\n  \n    //Update form data\n    function handleChange(event) {\n      const name = event.target.name;\n      let value = event.target.value;\n  \n      setFormData({\n        ...formData,\n        [name]: value,\n      });\n    \n    }\n  \n    //Handle artcile submit\n   function handleSubmit(e) {\n      e.preventDefault()\n      if (!user) return;\n      setFormData({\n        ...formData,\n        user_id: user.id,\n        status: user.status\n       \n        \n        \n      })\n    \n      \n\n\n\n      fetch('https://irep-backend.herokuapp.com/incidents', {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n        }, \n        body: JSON.stringify(formData),\n      }).then((res) => {\n        if (res.ok) {\n          res.json() \n          .then((article) => addUserPost(article));\n          navigate('/user')\n\n          window.location.reload(false);\n        } \n\n      });\n  \n      //Clear form\n      setFormData({\n        user_id: user.id,\n        incident_type:\"\",\n        title: \"\",\n        description: \"\",\n        location: \"\",\n        date: \"\",\n        image_url: \"\",\n        status: user.status\n      \n      })\n    }\n  \n\n  return (\n    <>\n    <div className=\"form-container_1\" >\n        <form className=\"register-form_1\" onSubmit={handleSubmit}>\n          <select form=\"Categories\" id=\"field\" className=\"form-field\" autofocus onChange={handleChange} name=\"incident_type\" value={formData.incident_type}>\n            <option value=\"\" disabled>Select</option>\n          \n            <option value=\"intervention\">Create an intervention</option>\n            <option value=\"redflag\">Create a red flag</option>\n          </select>\n          <input id=\"case-title\" className=\"form-field_1\" type=\"text\" placeholder=\"Enter your title\" name=\"title\" onChange={handleChange} value={formData.title}/>\n        <input id=\"desc-rption\" className=\"form-field_1\" type=\"text\" placeholder=\"Description\" name=\"description\" onChange={handleChange} value={formData.description}/>\n          <input id=\"loc-tion\" className=\"form-field_1\" type=\"text\" placeholder=\"Location\" name=\"location\" onChange={handleChange} value={formData.location}/>\n          <input id=\"da-te\" className=\"form-field_1\" type=\"text\" placeholder=\"Date\" name=\"date\" onChange={handleChange} value={formData.date}/>\n          <label id=\"file\">Choose an Image</label>\n         <input id=\"image\"className=\"form-field_1\" type=\"url\" placeholder=\"Image Url\" name=\"image_url\" onChange={handleChange} value={formData.image_url}/>\n          <button className=\"form-field_1\" type=\"submit\">SUBMIT</button>\n        </form>\n      </div>\n     </> \n  );\n};\n\nexport default  Team;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}